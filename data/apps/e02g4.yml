version: '3.8'
services:
  send_api:
    image: sendgrid/sendgrid:latest
    ports:
      - "587:587" # SMTP submission port
    environment:
      SENDGRID_API_KEY: your_sendgrid_api_key # Replace with your actual SendGrid API Key
      SENDGRID_SANDBOX_MODE: false # Set to true for testing in sandbox mode
    networks:
      - sendgrid_network

  sendgrid_db:
    image: postgres:latest
    environment:
      POSTGRES_USER: sendgrid
      POSTGRES_PASSWORD: your_password # Replace with a strong password
      POSTGRES_DB: sendgrid
    volumes:
      - sendgrid-db:/var/lib/postgresql2
    networks:
      - sendgrid_network

volumes:
  sendgrid-db:

networks:
  sendgrid_network:
    driver: bridge