version: '3.8'

services:
  tileserver-gl:
    image: mapbox/tileserver-gl:latest
    ports:
      - "8080:8080" # HTTP
      - "8081:8081" # TileMap (for mapnik)
      - "8082:8082" # Sentinel Hub (optional, if you are using it)
    volumes:
      - ./tiles/output:/data/output
      - ./tileserver-gl.json:/config/tileserver-gl.json:ro # Optional, if you have a custom configuration
    environment:
      - MAPBOX_ACCESS_TOKEN=your_mapbox_access_token # Set your MapBox access token
      - TILESERVER_GL_URL=http://localhost:8080 # Required for mapnik
      - TILESERVER_CONFIG=${XDG_CONFIG_HOME}/tileserver-gl.toml # Default config file location, can be customized
    restart: unless-stopped