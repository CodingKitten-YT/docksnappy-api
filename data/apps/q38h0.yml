version: '3.8'

services:
  spis-web:
    image: spis_web:latest  # Replace with the actual image name or tag
    ports:
      - "80:80"  # Map web app port to host if needed (default is 80)
    environment:
      DATABASE_URL: 'postgres://spis-db:5432/spis'  # Database connection string
      SECRET_KEY: 'your_secret_key'  # Replace with a secret key for your application
    depends_on:
      - spis-db
    networks:
      - spis-network

  spis-db:
    image: postgres:13.2  # PostgreSQL image tag, you can use another version or provider
    environment:
      POSTGRES_USER: 'spis'
      POSTGRES_PASSWORD: 'spis_password'
      POSTGRES_DB: 'spis'
    volumes:
      - spis-db-data:/var/lib/postgresql/data  # Persistent storage for the database
    networks:
      - spis-network

volumes:
  spis-db-data:

networks:
  spis-network: