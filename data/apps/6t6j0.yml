version: '3.8'

services:
  adguardhome:
    image: adguard/adguardhome:latest
    container_name: adguardhome
    restart: unless-stopped
    network_mode: "host" # Use host networking for DNS resolution
    volumes:
      - ./adguard/workdir:/opt/adguardhome/work
      - ./adguard/confdir:/opt/adguardhome/conf
    environment:
      - TZ=Etc/UTC # Replace 'Etc/UTC' with your timezone, e.g., 'America/New_York'
    ports:
      # Uncomment below if you prefer mapped ports instead of host networking
      # - "53:53/tcp"
      # - "53:53/udp"
      # - "67:67/udp"
      # - "68:68/tcp"
      # - "80:80/tcp"
      # - "443:443/tcp"
      # - "3000:3000/tcp"

# Uncomment the networks section if you disable network_mode: host
# networks:
#   default:
#     driver: bridge
