name: immich
services:
  immich:
    container_name: immich-immich-server
    image: ghcr.io/immich-app/immich-server:v1.124.2
    ports:
    - 2283:2283
    volumes:
    - immich-immich-server-immich-server-data:/usr/src/app/upload
    environment:
      DB_HOSTNAME: immich-postgres
      DB_USERNAME: casaos
      DB_PASSWORD: casaos
      DB_DATABASE_NAME: immich
      DB_PORT: '5432'
      REDIS_HOSTNAME: immich-redis
      IMMICH_MACHINE_LEARNING_URL: http://immich-machine-learning:3003
    depends_on:
    - immich-immich-server-redis
    - immich-immich-server-database
    restart: unless-stopped
    networks:
    - big_bear_immich_network
    hostname: immich-immich-server
networks:
  big_bear_immich_network:
    driver: bridge
minVersion: 0.14.0
