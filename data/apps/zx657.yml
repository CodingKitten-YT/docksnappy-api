version: '3.8'

services:
  miniflux:
    image: miniflux/miniflux:latest
    command: -dev
    container_name: miniflux
    restart: unless-stopped
    ports:
      - "8080:8080" # HTTP API
      - "3000:3000" # Admin interface (optional)
    volumes:
      - miniflux-data:/data
      - ./miniflux.db.default.sql:/docker-entrypoint-initdb.d/miniflux.db.default.sql:ro  # Optional, to create a default database on first run
    environment:
      MINIFLUX_FIRST_BOOT: "true" # Set to "true" if you're using the initdb file and Miniflux has never been initialized
      TZ: 'Europe/Paris'  # Change with your timezone, e.g., 'America/New_York'
    networks:
      - miniflux_network

volumes:
  miniflux-data:

networks:
  miniflux_network: