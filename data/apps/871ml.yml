version: '3.8'

services:
  app:
    image: blackcandylabs/black_candy:latest
    ports:
      - "5000:5000"
    depends_on:
      - redis
      # If you are using a database, uncomment the following line and define your db service accordingly.
      # - db:db
    environment:
      - SECRET_KEY=your_secret_key
      # - ADDITIONAL_ENV_VARIABLES=value
    volumes:
      - ./app/files:/app/files
      - ./app/.env:/code/.env
      # If you want to persist the Black Candy data, uncomment the following line.
      # - black_candy_data:/var/lib/black_candy

  redis:
    image: redis:6-alpine
    volumes:
      - redis_data:/data

# Uncomment the database service if you are using one.
# db:
#   image: postgres:13
#   environment:
#     POSTGRES_DB=your_db_name
#     POSTGRES_USER=your_db_user
#     POSTGRES_PASSWORD=your_db_password

volumes:
  redis_data:
  black_candy_data: