version: '3.8'

services:
  sickchill:
    image: 'danjb/sickchill:latest' # Use the official SickChill image from Docker Hub
    container_name: sickchill
    ports:
      - "8081:8080" # Web interface
      - "8082:8081" # NZBGet (if using it for downloads)
    environment:
      TZ: 'Europe/London' # Set your timezone, e.g., Europe/London, America/New_York, etc.
      SC_DATABASE_TYPE: 'Sqlite' # Database type, can be Sqlite or MySQL
      SC_MEDIA_PATHS: '/sickbeard/media' # Path(s) to your media, comma separated
      SC_DOWNLOAD_PATH: '/sickbeard/downloads' # Path to your downloads directory
      SC_LOG_LEVEL: 'INFO' # Log level (INFO, DEBUG, WARN, ERROR)
    volumes:
      - '/path/to/sickchill/data:/config' # Set your local path for SickChill data
      - '/path/to/sickchill/media:/sickchill/media' # Set your local path for media files
      - '/path/to/sickchill/downloads:/sickchill/downloads' # Set your local path for downloads
    depends_on:
      - nzbget  # If you're using NZBGet for downloads

  nzbget:
    image: 'linrun/nzbget:latest' # Use the official NZBGet image from Docker Hub
    container_name: nzbget
    ports:
      - "6789:6789" # NZBGet server
    volumes:
      - '/path/to/nzbget/downloads:/downloads' # Set your local path for NZBGet downloads
    environment:
      USERDIR: '/path/to/nzbget/downloads' # Set the user directory, must match volume
      NODECRYPTION: '1' # Enable or disable decryption of RAR files (0=off, 1=on)
      ENABLEDAEMON: '1' # Run NZBGet as a daemon (1=on, 0=off)
    depends_on:
      - sickchill  # SickChill should start before NZBGet to pass download paths

  mysql:
    image: 'mysql:8.0' # Use the official MySQL image from Docker Hub
    container_name: mysql
    environment:
      MYSQL_ROOT_PASSWORD: 'your_root_password'
      MYSQL_DATABASE: 'sickchill'
      MYSQL_USER: 'sickchill'
      MYSQL_PASSWORD: 'your_sickchill_password'
    ports:
      - "3306:3306" # MySQL server
    volumes:
      - '/path/to/mysql/data:/var/lib/mysql' # Set your local path for MySQL data
    restart: 'unless-stopped'

  sickbeard:
    image: 'danjb/sickbeard:latest' # Use the official SickBeard image from Docker Hub
    container_name: sickbeard
    ports:
      - "8082:8080" # Web interface
    environment:
      TZ: 'Europe/London' # Set your timezone, e.g., Europe/London, America/New_York, etc.
      SB_DATABASE_TYPE: 'MySQL' # Database type, can be Sqlite or MySQL
      SB_MEDIA_PATHS: '/sickbeard/media' # Path(s) to your media, comma separated
      SB_DOWNLOAD_PATH: '/sickbeard/downloads' # Path to your downloads directory
      SB_LOG_LEVEL: 'INFO' # Log level (INFO, DEBUG, WARN, ERROR)
    volumes:
      - '/path/to/sickbeard/data:/config' # Set your local path for SickBeard data
      - '/path/to/sickbeard/media:/sickbeard/media' # Set your local path for media files
      - '/path/to/sickbeard/downloads:/sickbeard/downloads' # Set your local path for downloads
    depends_on:
      - mysql  # MySQL should start before SickBeard to set up the database

networks:
  default:
    driver: bridge