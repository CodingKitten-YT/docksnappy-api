version: '3.8'

services:
  routr:
    image: routr/routr:latest # Use the official Docker image from Docker Hub
    ports:
      - "80:80" # Map HTTP port 80 on the host to port 80 in the container
      - "443:443" # Map HTTPS port 443 on the host to port 443 in the container
    volumes:
      - "./data:/data" # Mount a volume for data persistence
      - "./certs:/etc/letsencrypt" # Mount a volume for Let's Encrypt certificates if using SSL
    environment:
      - ROUTR_HOST=0.0.0.0 # Bind Routr to all network interfaces
      - ROUTR_HTTP_PORT=80 # Set the HTTP port inside the container (optional, defaults to 80)
      - ROUTR_HTTPS_PORT=443 # Set the HTTPS port inside the container (optional, defaults to 443)
      - ROUTR_LETSCAFFEE_EMAIL=your-email@example.com # Your email for Let's Encrypt (if using SSL and automated certificates)
    networks:
      - routr_network

networks:
  routr_network:
    driver: bridge