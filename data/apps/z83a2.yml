version: '3.8'

services:
  hiccup_web:
    image: hiccuphq/hiccup:latest
    ports:
      - "8000:8000" # Expose Hiccup's web UI on port 8000 of the host
    environment:
      # Required for storing tokens securely
      POSTGRES_DB: hiccup
      POSTGRES_USER: hiccup
      POSTGRES_PASSWORD: change_this_password
      SECRET_KEY: 'your_secret_key' # Use Django's `manage.py secrets` to generate a secret key
    depends_on:
      - db
    volumes:
      - ./hiccup/data:/data
      - ./hiccup/hiccup.conf.py:/code/hiccup/hiccup.conf.py # Optional: Override default settings with a custom hiccup.conf.py

  db:
    image: postgres:latest
    volumes:
      - db_data:/var/lib/postgresql/data

volumes:
  db_data: