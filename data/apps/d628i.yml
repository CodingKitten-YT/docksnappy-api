version: '3.8'

services:
  ircd:
    image: inspircd/inspircd
    container_name: inspircd
    ports:
      - "6667:6667" # standard port for IRC (can be any other port you prefer)
      - "6697:6697" # SSL port (optional if not using ssl)
    volumes:
      - ./config:/etc/inspircd
      - ./data:/var/lib/inspircd
    environment:
      - IRCD_ADMIN='admin@example.com'
      - SASL_ENABLED=1
      - EULA_ACCEPTED=true
      # Optional SSL configuration
      - SSL_CERT=/var/lib/inspircd/cert.pem
      - SSL_KEY=/var/lib/inspircd/key.pem
      - SSL_USE='1'
    environment:
      IRCD_CONF_SERVER_IDENT: 'ExampleServer'
      IRCD_CONF_SERVER_NAME: 'ExampleServer'
      IRCD_CONF_LOCAL_USERCLASS: '@a :Hostmask'
      IRCD_CONF_LOCAL_INVITE_EXTERNAL: 'on'
      IRCD_CONF_NETWORK_DEFAULT_REALNAME_FORMAT: '%{nick}@%{host}'
    networks:
      - ircnetwork

networks:
  ircnetwork: