version: '3.8'

services:
  tubesync:
    image: 'linuxserver/tubesync:latest' # Official image from LinuxServer.szs
    ports:
      - "8090:8090" # Web UI port
      - "5141:5141" # BT Socket (UDP)
      - "6881-6889:6881-6889" # BT Fast-track ports
    volumes:
      - "/path/to/downloads:/download" # Set this to a local directory where you want downloads to be saved
      - "/path/to/config:/config" # Set this to a local directory for TubeSync configuration files (optional but recommended)
    environment:
      - TZ_FILES=/etc/localtime # Preserves the correct timezone when not using the default timezone
      - PUID=1000 # Set your user ID to prevent permissions issues; must be the same as in the volume mount
      - GID=1000 # Set your group ID to prevent permissions issues; must be the same as in the volume mount
      # Uncomment and set the following if you have a proxy setup
      # - PROXY_TYPE=http # or "socks5"
      # - PROXY_HOST=example.com
      # - PROXY_PORT=3128
    restart: unless-stopped # Ensures that TubeSync stays running at system startup
    devices:
      - "/dev/ttyUSB0:/dev/ttyUSB0" # If using a USB dongle for BT connection, specify the correct device
    network:
      name: tubenetwork

networks:
  tubenetwork:
    driver: bridge