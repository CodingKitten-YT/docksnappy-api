version: '3.8'

services:
  overseerr:
    image: 'linuxserver/overseer:latest'
    container_name: overseerr
    ports:
      - "5000:5000" # Web UI
      - "6000:6000" # Admin UI
      - "5141:5141" # Prowl Notifications (if configured)
    volumes:
      - '/your/local/config:/config'
      - '/your/local/media:/media'
    environment:
      - TZ=Your/Desired/Timezone
      - PUID=1000 # Replace with your user ID
      - PWID=100   # Replace with your group ID
      # Optional, if you want to disable automatic startup of movies and TV shows.
      - DISABLE_AUTOSTART=true
    ports_custom:
      - "892:892" # Jackett Integration (if configured)
      - "3574:3574" # Sonarr Integration (if configured)
      - "5761:5761" # Radarr Integration (if configured)
    restart: unless-stopped
    networks:
      - overseerr_network

  redis:
    image: 'redis:6'
    container_name: redis
    volumes:
      - 'redis_data:/data'
    command: '--save-on-flush 100 8 hours'
    restart: unless-stopped

  postgres:
    image: 'postgres:13'
    container_name: postgres
    volumes:
      - 'postgres_data:/var/lib/postgresql/data'
    environment:
      - POSTGRES_DB=overseerr
      - POSTGRES_USER=overseer
      - POSTGRES_PASSWORD=yourpassword
    restart: unless-stopped

networks:
  overseerr_network:
    driver: bridge

volumes:
  redis_data:
  postgres_data: