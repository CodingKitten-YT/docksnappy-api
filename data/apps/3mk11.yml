version: '3.8'
services:
  feedcord:
    image: feedcord/feedcord:latest
    container_name: feedcord
    ports:
      - "5000:5000" # Expose the port FeedCord runs on (default is 5000)
    environment:
      DISCORD_TOKEN: ${DISCORD_TOKEN}
      CLIENT_ID: ${CLIENT_ID}
      GUILD_ID: ${GUILD_ID}
      POST_URL: ${POST_URL} # (optional) URL to post to, if you want FeedCord to send RSS data to another server
    volumes:
      - ./config:/etc/feedcord
      - ./cache:/var/cache/feedcord
    restart: unless-stopped

  redis:
    image: redis:6.2
    ports:
      - "6379:6379"
    volumes:
      - redis-data:/data

  mongodb:
    image: mongo:latest
    volumes:
      - mongodb-data:/data/db

volumes:
  redis-data:
  mongodb-data: