version: '3.8'
services:
  libret Translate:
    image: 'librettranslate/librettranslate:latest' # use the latest tag or specify a particular version
    ports:
      - "9993:9993" # HTTP API port
    environment:
      - ENABLE_API=true # Enable API for REST calls
      - ENABLE_WEBGUI=false # Disable web GUI if not needed (for headless deployment)
      - POSTMONGOHOST=true # Connect to MongoDB running on another host/service, set to false if MongoDB is in the same container
    volumes:
      - "${HOME}/.local/share/librettranslate/:/data" # Mount for storing translations locally (optional)
    networks:
      - translate_network

  mongodb:
    image: 'mongo:latest'
    environment:
      - MONGO_INITDB_ROOT_USERNAME=root
      - MONGO_INITDB_ROOT_PASSWORD=yourpassword
    volumes:
      - "librettranslate-mongodb:/data/db" # Use a named volume for persistent data (optional)
    networks:
      - translate_network

networks:
  translate_network:
    driver: bridge

volumes:
  librettranslate-mongodb: