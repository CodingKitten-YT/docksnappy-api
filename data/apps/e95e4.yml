version: '3.8'
services:
  cannery_cannery:
    image: cansuds/cannery:latest
    container_name: cannery
    environment:
      - HOSTNAME=Cannery
      # Uncomment and set the following if your cluster has a different storage backend
      # - STORAGE_BACKEND=minio
      # - MINIO_ACCESS_KEY=your_minio_access_key
      # - MINIO_SECRET_KEY=your_minio_secret_key
      # - MINIO_ENDPOINT=http://minio-service:9000
    ports:
      - "8080:8080"
    volumes:
      - ./cannery-data:/var/lib/cannery
    depends_on:
      - minio # If you are using MinIO as the storage backend

  # Uncomment and add the following service if you need a MinIO service
  # minio-service:
  #   image: minio:latest
  #   environment:
  #     - MINIO_ACCESS_KEY=minio
  #     - MINIO_SECRET_KEY=minio1234
  #   volumes:
  #     - minio-data:/root/.minio
  #   command: server /data

  # Uncomment and add the following service if you need a PostgreSQL database for Cannery
  # postgres:
  #   image: postgres:latest
  #   environment:
  #     - POSTGRES_DB=cannery
  #     - POSTGRES_USER=cannery
  #     - POSTGRES_PASSWORD=changeit
  #   volumes:
  #     - postgres-data:/var/lib/postgresql/data

# Uncomment and add the following if you need a monitoring service like Prometheus or Grafana
# prometheus:
#   image: prom/prometheus:latest
# grafana:
#   image: grafana/grafana:latest

networks:
  default:
    name: cannery_default