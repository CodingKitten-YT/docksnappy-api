version: '3.8'

services:
  webui:
    image: ytdlpsif/yt-dlp-webui:latest # Use an official yt-dlp-webui image from Docker Hub
    container_name: yt-dlp-webui
    ports:
      - "8080:80" # Map port 80 on the host to port 80 in the container (Web UI default)
    volumes:
      - "./config:/config" # Mount a volume for configuration files
      - "./data:/data"       # Mount a volume for downloaded files
      - "./logs:/logs"      # Mount a volume for log files (optional but recommended for logging purposes)
    restart: unless-stopped # Restart the container automatically if it stops

  ytdlpsif_yt-dlp:
    image: ytdlpsif/yt-dlp:latest # Use an official yt-dlp image from Docker Hub
    container_name: yt-dlp
    volumes:
      - "./data:/data"       # Mount a volume for downloaded files
      - "./logs:/logs"      # Mount a volume for log files (optional but recommended for logging purposes)
    environment:
      - YTDLP_IGNORE_GTLR=1  # Disable global title lookup to improve yt-dlp performance
    depends_on:
      - webui
    restart: unless-stopped # Restart the container automatically if it stops