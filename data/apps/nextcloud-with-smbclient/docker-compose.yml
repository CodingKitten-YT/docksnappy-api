name: nextcloud-smb
services:
  nextcloud-with-smbclient:
    container_name: nextcloud-with-smbclient-big-bear-nextcloud-smb
    image: bigbeartechworld/big-bear-nextcloud-with-smbclient:0.0.4
    restart: unless-stopped
    ports:
    - 7580:80
    volumes:
    - nextcloud-with-smbclient-big-bear-nextcloud-smb-big-bear-nextcloud-smb-data:/var/www/html
    environment:
    - POSTGRES_HOST=nextcloud-with-smbclient-big-bear-nextcloud-smb-big-bear-nextcloud-smb-db
    - REDIS_HOST=nextcloud-with-smbclient-big-bear-nextcloud-smb-big-bear-nextcloud-smb-redis
    - POSTGRES_PASSWORD=casaos
    - POSTGRES_USER=casaos
    - POSTGRES_DB=nextcloud
    - NEXTCLOUD_ADMIN_USER=casaos
    - NEXTCLOUD_ADMIN_PASSWORD=casaos
    - TRUSTED_PROXIES=
    - OVERWRITEPROTOCOL=http
    - PHP_MEMORY_LIMIT=1024M
    - PHP_UPLOAD_LIMIT=1024M
    depends_on:
    - nextcloud-with-smbclient-big-bear-nextcloud-smb-big-bear-nextcloud-smb-db
    - nextcloud-with-smbclient-big-bear-nextcloud-smb-big-bear-nextcloud-smb-redis
    networks:
    - big_bear_nextcloud_network
    hostname: nextcloud-with-smbclient-big-bear-nextcloud-smb
networks:
  big_bear_nextcloud_network:
    driver: bridge
minVersion: 0.14.0
