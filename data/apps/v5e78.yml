version: '3.8'

services:
  bandit:
    image: 'discountbandit/bandit:latest' # Use the official Discount Bandit image
    ports:
      - "5000:5000" # Expose the default Flask port for Bandit UI
    environment:
      BANDIT_API_PORT: 5001 # Port for Bandit's API server, by default it runs on 5001
      BANDIT_API_DEBUG: true # Set to true for more verbose logging
      BANDIT_BROWSER_DRIVERS: "/opt/browser_drivers" # Directory for browser drivers
      JOBS: 4 # Number of parallel jobs Bandit will run
    volumes:
      - "./bandit-files:/app/static/files" # Mount a volume for your bandit files, adjust the path as needed
      - "./logs:/var/log/bandit" # Mount a volume for logs (optional)
    networks:
      - bandit_network

  redis:
    image: 'redis:6'
    networks:
      - bandit_network

networks:
  bandit_network:
    driver: bridge