version: '3.8'

services:
  isponsorblocktv:
    image: 'ghcr.iosponsorblock.com/isponsorblocktv/isponsorblocktv:stable' # Use the appropriate tag for the version you want
    ports:
      - "5000:5000" # Expose the necessary port if needed, e.g., for a web UI
    restart: 'unless-stopped'
    environment:
      - API_SECRET_KEY=your_secret_key # Set your own secret key for API usage
      - AUTH_LDAP_HOST=ldap.example.com # If using LDAP, set the LDAP host
      - AUTH_LDAP_USER_FILTER="(objectClass=inetOrgPerson)" # LDAP user filter if using LDAP auth
      - AUTH_LDAP_GROUP_FILTER="(memberOf=CN=users,OU=Groups,DC=example,DC=com)" # LDAP group filter if using LDAP auth
    volumes:
      - './config:/etc/isponsorblocktv' # Mount your local config directory to the container's config directory
      - './data:/var/lib/isponsorblocktv' # Mount your local data directory to the container's data directory (if needed)
    networks:
      - isponsorblocktv_net

networks:
  isponsorblocktv_net:
    driver: bridge