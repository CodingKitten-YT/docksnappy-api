version: '3.8'

services:
  grafana:
    image: grafana/grafana:latest
    container_name: grafana
    ports:
      - "3000:3000" # Grafana default HTTP port
    environment:
      GF_SECURITY_ADMIN_PASSWORD: your_strong_password # Change with a strong password
    volumes:
      - ./grafana-data:/var/lib/grafana
      - ./grafana-conf:/etc/grafana
      - ./grafana-plugins:/root/.grafana/plugins
    networks:
      - grafana_net

  influxdb:
    image: influxdata/influxdb:latest
    container_name: influxdb
    ports:
      - "8086:8086" # InfluxDB default HTTP port
    volumes:
      - ./influxdb-data:/var/lib/influxdb2
    networks:
      - grafana_net

  telegraf:
    image: influxdata/telegraf:latest
    container_name: telegraf
    volumes:
      - ./influxdb-data:/var/lib/influxdb2
      - ./telegraf-conf:/etc/telegraf
    networks:
      - grafana_net

networks:
  grafana_net:
    driver: bridge