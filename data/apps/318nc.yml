version: '3.8'

services:
  litrix:
    image: litrix/litrix:latest # Use the official Litlyx image from Docker Hub
    container_name: litrix
    environment:
      LITRIX_SERVER_ENABLE_API: "true"
      TZ: "Europe/London" # Set your desired timezone, e.g., "America/New_York"
    ports:
      - "80:80" # HTTP traffic
      - "443:443" # HTTPS traffic (make sure to set up SSL certificates)
    volumes:
      - litrix-data:/var/lib/litrix
      - litrix-config:/etc/litrix
      - litrix-logs:/var/log/litrix
    restart: unless-stopped

  nginx-ingress:
    image: nginxinc/nginx-ingress:latest
    container_name: nginx-ingress
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro # Map your custom nginx config if needed
    depends_on:
      - litrix
    restart: unless-stopped

volumes:
  litrix-data:
  litrix-config:
  litrix-logs: