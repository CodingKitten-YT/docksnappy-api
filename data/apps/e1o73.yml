version: '3.8'

services:
  fenrus:
    image: 'fenrus/fenrus:latest' # Use the official image or a specific tag
    ports:
      - "8080:8080" # Expose the default port if needed, change according to your configuration
    environment:
      - FENRUS_DATABASE_URL=postgres://dbuser:dbpassword@db:5432/dbname # Set your database connection string
      # Add other necessary environment variables for Fenrus configuration
    depends_on:
      - db # Define dependencies if any, e.g., a database service
    volumes:
      - './data:/app/data' # Mount your local data volume to store application data

  postgres:
    image: 'postgres:latest' # Use the official PostgreSQL image or a specific tag
    environment:
      - POSTGRES_USER=dbuser
      - POSTGRES_PASSWORD=dbpassword
      - POSTGRES_DB=dbname
    volumes:
      - './data/postgres:/var/lib/postgresql/data' # Mount your local data volume for PostgreSQL data persistence
      # Optionally, you can use a docker volume instead of a local path for production environments

# Define any additional configurations like networks, volumes, etc.
networks:
  default:
    driver: bridge

volumes:
  fenrus_data:
  postgres_data: